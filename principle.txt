1. Синхронный код.

2. Выполняются все микрозадачи.

3. Выполняется одна макрозадача.

4. Повторно выполняются все (вновь добавленные) микрозадачи.

5. Выполняется следующая макрозадача.

6. Цикл повторяется

микрозадачи - Promise, ObjectObserver, MutationObserver, process.nextTick, async/await.
макрозадачи - setTimeout, setInterval и XHR.